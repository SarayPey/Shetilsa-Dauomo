<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Dado con rebote y rodado realista 🎲</title>
	<style>
		* {margin:0; padding:0; box-sizing:border-box;}
		body {
			height:100vh;
			display:flex;
			align-items:center;
			justify-content:center;
			background:#b33951;
			perspective:1000px;
			overflow:hidden;
			perspective: 800px;
			overflow: hidden;
		}
		.dado {
			position:relative;
			width:100px;
			height:100px;
			transform-style:preserve-3d;
			transform-origin: center;
		}
		.lado {
			position:absolute;
			width:100%;
			height:100%;
			border-radius:5px;
			border:5px solid #f6f3f0;
			background:linear-gradient(145deg,#dddbd8,#fff);
		}
		.lado::before {
			content:'';
			position:absolute;
			width:100%;
			height:100%;
			border-radius:20px;
			background:#f6f3f0;
			transform:translateZ(-1px);
		}
		.lado::after {
			content:'';
			position:absolute;
			top:50%; left:50%;
			width:18px; height:18px;
			border-radius:50%;
			background:#131210;
		}
		.frontal  {
			transform:translateZ(50px);
		}
		.trasero  {
			transform:rotateX(180deg) translateZ(50px);
		}
		.superior {
			transform:rotateX(90deg) translateZ(50px);
		}
		.inferior {
			transform:rotateX(-90deg) translateZ(50px);
		}
		.derecho  {
			transform:rotateY(90deg) translateZ(50px);
		}
		.izquierdo{
			transform:rotateY(-90deg) translateZ(50px);
		}
		.frontal::after  {
			width:30px;
			height:30px;
			background:#f63330;
			margin:-15px 0 0 -15px;
		}
		.trasero::after  {
			margin:-35px 0 0 -30px;
			box-shadow:40px 0,0 25px, 40px 25px, 0 50px,40px 50px;
			background:#f63330;
			color: #f63330;
		}
		.superior::after {
			margin:-30px 0 0 -30px;
			box-shadow:40px 40px;
		}
		.inferior::after {
			margin:-36px 0 0 -36px;
			box-shadow:26px 26px,52px 52px,52px 0,0 52px;
		}
		.derecho::after  {
			margin:-30px 0 0 -30px;
			box-shadow:40px 0,0 40px,40px 40px;
		}
		.izquierdo::after{
			margin:-35px 0 0 -35px;
			box-shadow:25px 25px,50px 50px;
		}

	</style>
</head>
<body>
	<div class="dado">
		<div class="lado frontal"></div>
		<div class="lado trasero"></div>
		<div class="lado derecho"></div>
		<div class="lado izquierdo"></div>
		<div class="lado superior"></div>
		<div class="lado inferior"></div>
	</div>

<script>
const dado = document.querySelector('.dado');

function randomdado() {
  const resultado = Math.floor(Math.random() * 6) + 1;
  rolldado(resultado);
}

function rolldado(resultado) {
  // Resetea animaciones previas
  dado.style.transition = 'none';

  // Punto de inicio aleatorio
  const startX = Math.floor(Math.random() * 360);
  const startY = Math.floor(Math.random() * 360);
  dado.style.transform = `rotateX(${startX}deg) rotateY(${startY}deg)`;

  // Reflow (asegura que el navegador “registre” el cambio)
  void dado.offsetWidth;

  // Activamos transición con frenado cinematográfico
  dado.style.transition = 'transform 2.2s cubic-bezier(0.25, 1, 0.5, 1)';

  // Rotaciones base (más vueltas = más drama 🎥)
  const vueltasX = 360 * (3 + Math.floor(Math.random() * 2)); 
  const vueltasY = 360 * (3 + Math.floor(Math.random() * 2)); 

  let finalX = 0, finalY = 0;
  switch (resultado) {
    case 1: finalX = 0; finalY = 0; break;
    case 2: finalX = -90; finalY = 0; break;
    case 3: finalX = 0; finalY = 90; break;
    case 4: finalX = 0; finalY = -90; break;
    case 5: finalX = 90; finalY = 0; break;
    case 6: finalX = 180; finalY = 0; break;
  }

  // 🎬 Giro principal
  dado.style.transform = `rotateX(${vueltasX + finalX}deg) rotateY(${vueltasY + finalY}deg)`;

  // 🎥 Rebote cinematográfico al detenerse
  setTimeout(() => {
    dado.style.transition = 'transform 0.3s ease-out';
    dado.style.transform += 'rotateX(15deg) rotateY(-5deg)';

    setTimeout(() => {
      dado.style.transition = 'transform 0.2s ease-in';
      dado.style.transform = `rotateX(${vueltasX + finalX}deg) rotateY(${vueltasY + finalY}deg)`;
    }, 300);
  }, 2200);
}

dado.addEventListener('click', randomdado);
</script>
</body>
</html>
